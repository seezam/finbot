# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –±–æ—Ç–æ–º

## –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç - —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook

```bash
export BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
curl "https://api.telegram.org/bot${BOT_TOKEN}/getWebhookInfo" | python3 -m json.tool
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
- `url`: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- `pending_update_count`: 0 (–∏–ª–∏ –Ω–µ–±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ)
- –ù–µ—Ç `last_error_message`

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# Health check
curl https://finbot-production-19c7.up.railway.app/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status":"ok"}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí Variables
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   - `BOT_TOKEN` = –≤–∞—à —Ç–æ–∫–µ–Ω
   - `ALLOWED_USER_ID` = 7186109787
   - `PORT` = (Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí **View Logs**
4. –ò—â–∏—Ç–µ:
   - `[WEBHOOK]` - —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - `[BOT]` - —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º)

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ webhook

```bash
export BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
./restart-webhook.sh
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ User ID

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à Telegram User ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
- –û—Ç–∫—Ä–æ–π—Ç–µ [@userinfobot](https://t.me/userinfobot) –≤ Telegram
- –û–Ω –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à ID
- –î–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `ALLOWED_USER_ID` –≤ Railway

### 7. –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ webhook

```bash
curl -X POST https://finbot-production-19c7.up.railway.app/webhook \
  -H "Content-Type: application/json" \
  -d '{"update_id":999999999,"message":{"message_id":1,"from":{"id":7186109787,"is_bot":false,"first_name":"Test"},"chat":{"id":7186109787,"type":"private"},"date":1234567890,"text":"/start"}}'
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Railway –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### –ü—Ä–æ–±–ª–µ–º–∞: Webhook –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É 404

**–†–µ—à–µ–Ω–∏–µ:**
```bash
./restart-webhook.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –Ω–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `ALLOWED_USER_ID` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Railway
2. –û—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Railway
3. –°–µ—Ä–≤–µ—Ä —É–ø–∞–ª - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è –Ω–∞ Railway

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Railway
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ALLOWED_USER_ID` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –Ω–∞ Railway (Settings ‚Üí Restart)

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

**–ü—Ä–∏—á–∏–Ω–∞:** Railway –º–æ–∂–µ—Ç "–∑–∞—Å—ã–ø–∞—Ç—å" –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

**–†–µ—à–µ–Ω–∏–µ:** 
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–ø—Ä–æ–±—É–∂–¥–∞–µ—Ç" —Å–µ—Ä–≤–∏—Å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway Pro –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

–ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- `[WEBHOOK]` - –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `[BOT]` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û—à–∏–±–∫–∏ —Å –ø–æ–ª–Ω—ã–º —Å—Ç–µ–∫–æ–º

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É.

